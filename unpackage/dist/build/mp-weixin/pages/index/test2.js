(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/test2"],{3430:function(t,n,i){"use strict";(function(t){i("ca5e"),i("921b");e(i("66fd"));var n=e(i("c11c"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,i("543d")["createPage"])},"36f8":function(t,n,i){"use strict";var e=i("e7f4"),s=i.n(e);s.a},"3bb3":function(t,n,i){"use strict";var e=function(){var t=this,n=t.$createElement;t._self._c},s=[];i.d(n,"a",function(){return e}),i.d(n,"b",function(){return s})},"9d37":function(t,n,i){"use strict";(function(t){function e(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{},e=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),e.forEach(function(n){s(t,n,i[n])})}return t}function s(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){return i.e("pages/index/fontEdit").then(i.bind(null,"87cf"))},a=function(){return i.e("pages/index/imgEdit").then(i.bind(null,"31e2"))},r=function(){return Promise.all([i.e("common/vendor"),i.e("pages/index/canvasEdit")]).then(i.bind(null,"7eb0"))},c=function(){return i.e("pages/index/zxColor").then(i.bind(null,"2c93"))},h={components:{imgEdit:a,fontEdit:o,canvasEdit:r,zxColor:c},data:function(){return{imageList:[],textList:[],textActive:-1,imgActive:-1,curColor:"#000",isShow:!0,timer:null,btnType:{font:{range1:"字体大小",range2:"行间距",btn1:"居中",btn2:"加粗",btn3:"颜色",btn4:"贯穿"},img:{range1:"圆角半径",range2:"旋转角度",btn1:"居中",btn2:"铺满",btn3:"置顶",btn4:"置底"},canvas:{range1:"笔画大小",range2:"笔锋程度",btn1:"清空",btn2:"保存",btn3:"颜色",btn4:"确认"}},defaultConfig:{imgPosition:{x:50,y:50,w:200},fontPosition:{x:50,y:50,w:200},img:{r:0,degrees:0},font:{lineHeight:14,size:14,weight:!1,lineThrough:!1,color:"#000"},canvas:{lineWidth:2,keenness:0}},editType:null,container:{w:null,h:null},imgConfig:{},fontConfig:{},canvasConfig:{},inputContent:""}},watch:{textActive:function(t){t>-1?("font"!==this.editType&&(this.editType="font",this.imgActive=-1),this.fontConfig=this.textList[t].config,this.inputContent=this.textList[t].content):this.inputContent=""},imgActive:function(t){t>-1&&("img"!==this.editType&&(this.editType="img",this.textActive=-1),this.imgConfig=this.imageList[t].config)}},onLoad:function(){this.imgConfig=this.defaultConfig.img,this.fontConfig=this.defaultConfig.font,this.canvasConfig=this.defaultConfig.canvas,this.k=t.getSystemInfoSync().screenWidth/750,this.setContainerW()},methods:{px2rpx:function(){if(1==arguments.length)return arguments[0]/this.k;var t=[],n=!0,i=!1,e=void 0;try{for(var s,o=arguments[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;t.push(a/this.k)}}catch(r){i=!0,e=r}finally{try{n||null==o.return||o.return()}finally{if(i)throw e}}return t},rpx2px:function(){if(1==arguments.length)return arguments[0]*this.k;var t=[],n=!0,i=!1,e=void 0;try{for(var s,o=arguments[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var a=s.value;t.push(a*this.k)}}catch(r){i=!0,e=r}finally{try{n||null==o.return||o.return()}finally{if(i)throw e}}return t},cancelEditType:function(){this.editType=null,this.textActive=-1,this.imgActive=-1},setContainerW:function(){this.container.w=this.rpx2px(720),this.container.h=this.rpx2px(880)},uploadImg:function(){var n=this;t.chooseImage({count:1,sourceType:["album","camera"],success:function(i){t.getImageInfo({src:i.tempFilePaths[0],success:function(t){n.imageList.push({src:i.tempFilePaths[0],position:e({},n.defaultConfig.imgPosition,{h:200*t.height/t.width}),config:n.defaultConfig.img,isMove:!1}),n.imgActive=n.imageList.length-1,n.editType="img"}})}})},handleText:function(){this.inputContent?"font"!==this.editType?(this.textList.push({content:this.inputContent,position:this.defaultConfig.fontPosition,config:this.defaultConfig.font,isMove:!1}),this.textActive=this.textList.length-1,this.editType="font"):this.textList[this.textActive].content=this.inputContent:t.showModal({title:"提示",content:"这是一个模态弹窗",showCancel:!1,success:function(t){t.confirm}})},handleCanvasType:function(){"canvas"!==this.editType?this.editType="canvas":this.editType=null},info:function(){t.showModal({title:"提示",content:"这是一个模态弹窗",showCancel:!1,success:function(t){t.confirm}})},close:function(){this.isShow=!1},unfold:function(){this.isShow=!0},tapRange1:function(t){switch(this.editType){case"img":if(this.imgConfig.r+t<0)return;this.imgConfig.r=1*this.imgConfig.r+t,this.$children[0].handleImgR(this.imgConfig.r);break;case"font":if(this.fontConfig.size+t<0)return;this.fontConfig.size=1*this.fontConfig.size+t,this.$children[1].handleFontSize(this.fontConfig.size);break;case"canvas":if(this.canvasConfig.lineWidth+t<0||this.canvasConfig.lineWidth+t>5)return;this.canvasConfig.lineWidth=1*this.canvasConfig.lineWidth+t;break;default:break}},longpressRange1:function(t){var n=this;switch(this.editType){case"img":this.timer=setInterval(function(){n.imgConfig.r+t<0||(n.imgConfig.r=1*n.imgConfig.r+t,n.$children[0].handleImgR(n.imgConfig.r))},30);break;case"font":this.timer=setInterval(function(){n.fontConfig.size+t<0||(n.fontConfig.size=1*n.fontConfig.size+t,n.$children[1].handleFontSize(n.fontConfig.size))},30);break;case"canvas":this.timer=setInterval(function(){n.canvasConfig.lineWidth+t<0||n.canvasConfig.lineWidth+t>20||(n.canvasConfig.lineWidth=1*n.canvasConfig.lineWidth+t)},30);break;default:break}},touchendRange1:function(){clearInterval(this.timer),this.timer=null},tapRange2:function(t){switch(this.editType){case"img":this.imgConfig.degrees=1*this.imgConfig.degrees+t,this.$children[0].handleImgDegrees(this.imgConfig.degrees);break;case"font":if(this.fontConfig.lineHeight+t<0)return;this.fontConfig.lineHeight=1*this.fontConfig.lineHeight+t,this.$children[1].handleFontLineHeight(this.fontConfig.lineHeight);break;case"canvas":if(this.canvasConfig.keenness+t<0||this.canvasConfig.keenness+t>5)return;this.canvasConfig.keenness=1*this.canvasConfig.keenness+t;break;default:break}},longpressRange2:function(t){var n=this;switch(this.editType){case"img":this.timer=setInterval(function(){n.imgConfig.degrees=1*n.imgConfig.degrees+t,n.$children[0].handleImgDegrees(n.imgConfig.degrees)},30);break;case"font":this.timer=setInterval(function(){n.fontConfig.lineHeight+t<0||(n.fontConfig.lineHeight=1*n.fontConfig.lineHeight+t,n.$children[1].handleFontLineHeight(n.fontConfig.lineHeight))},30);break;case"canvas":break;default:break}},touchendRange2:function(){clearInterval(this.timer),this.timer=null},tapBtn1:function(){switch(this.editType){case"img":this.$children[0].handleImgCenter(this.container.w);break;case"font":this.$children[1].handleFontCenter(this.container.w);break;case"canvas":this.$children[3].handleClear();break;default:break}},tapBtn2:function(){switch(this.editType){case"img":this.$children[0].handleImgFullContainer(this.container.w);break;case"font":this.fontConfig.weight=!this.fontConfig.weight,this.$children[1].handleFontWeight();break;case"canvas":this.$children[3].save();break;default:break}},tapBtn3:function(){switch(this.editType){case"img":this.$children[0].handleImgSet2top();break;case"font":break;case"canvas":break;default:break}},tapBtn4:function(){switch(this.editType){case"img":this.$children[0].handleImgSet2bottom();break;case"font":this.fontConfig.lineThrough=!this.fontConfig.lineThrough,this.$children[1].handleFontLineThrough();break;case"canvas":this.$children[3].confirm();break;default:break}},handleCanvasImage:function(t,n){this.imageList.push({src:t,position:n,config:this.defaultConfig.img,isMove:!1}),this.imgActive=this.imageList.length-1,this.editType="img"},canvasAdjustMove:function(t){t.touches[0].clientY<100||(this.container.h=t.touches[0].clientY)}}};n.default=h}).call(this,i("543d")["default"])},c11c:function(t,n,i){"use strict";i.r(n);var e=i("3bb3"),s=i("d0bf");for(var o in s)"default"!==o&&function(t){i.d(n,t,function(){return s[t]})}(o);i("36f8");var a=i("2877"),r=Object(a["a"])(s["default"],e["a"],e["b"],!1,null,null,null);n["default"]=r.exports},d0bf:function(t,n,i){"use strict";i.r(n);var e=i("9d37"),s=i.n(e);for(var o in e)"default"!==o&&function(t){i.d(n,t,function(){return e[t]})}(o);n["default"]=s.a},e7f4:function(t,n,i){}},[["3430","common/runtime","common/vendor"]]]);