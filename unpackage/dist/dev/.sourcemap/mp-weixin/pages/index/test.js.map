{"version":3,"sources":["webpack:///G:/W/Hbuilder/Tension-Max/main.js","webpack:///G:/W/Hbuilder/Tension-Max/pages/index/test.vue?42ff","webpack:///G:/W/Hbuilder/Tension-Max/pages/index/test.vue?c32e","webpack:///G:/W/Hbuilder/Tension-Max/pages/index/test.vue?7874","webpack:///G:/W/Hbuilder/Tension-Max/pages/index/test.vue?f9cb","webpack:///G:/W/Hbuilder/Tension-Max/pages/index/test.vue"],"names":["createPage","Page","name","props","imgSrc","Type","String","default","avatarUrl","QRcodeSrc","titleColor","LineType","Boolean","price","priceColor","originalPrice","originalPriceColor","Width","CanvasBg","referrer","guide","data","webviewStyles","progress","color","img","src","x","y","w","h","r","shadow","text","content","lineHeight","size","weight","family","maxLineNum","lineThrough","canvasId","canvasW","canvasH","canvasImgSrc","ctx","k","onLoad","uni","getSystemInfoSync","screenWidth","onReady","OnCanvas","methods","px2rpx","arguments","length","params","i","push","rpx2px","console","log","Date","getTime","createCanvasContext","getImageInfo","imgInfo","save","radiusRect","setShadow","fill","clip","drawImage","path","restore","drawTxt","drawLineNum","drawIndex","font","setFillStyle","setTextBaseline","measureText","width","fillText","beginPath","moveTo","lineTo","setStrokeStyle","setLineWidth","stroke","j","substring","draw","res","getCanvasImage","canvasToTempFilePath","success","Math","min","arcTo","closePath"],"mappings":"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","file":"pages/index/test.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/index/test.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./test.vue?vue&type=template&id=034af866&\"\nimport script from \"./test.vue?vue&type=script&lang=js&\"\nexport * from \"./test.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"G:\\\\G\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('034af866', component.options)\n    } else {\n      api.reload('034af866', component.options)\n    }\n    module.hot.accept(\"./test.vue?vue&type=template&id=034af866&\", function () {\n      api.rerender('034af866', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"W/Hbuilder/Tension-Max/pages/index/test.vue\"\nexport default component.exports","export * from \"-!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./test.vue?vue&type=template&id=034af866&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./test.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./test.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n\n/* 以下数字的单位以rpx为准 */\nexport default {\n\tname: 'poster',\n\tprops: {\n\t\timgSrc: { //展示图\n\t\t\tType: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tavatarUrl: { //头像\n\t\t\tType: String,\n\t\t\tdefault: ''\n\t\t},\n\t\tQRcodeSrc: { //二维码\n\t\t\tType: String,\n\t\t\tdefault: ''\n\t\t},\n\t\t// title: { //文本内容\n\t\t// \tType: String,\n\t\t// \tdefault: ''\n\t\t// },\n\t\ttitleColor: { //标题颜色\n\t\t\tType: String,\n\t\t\tdefault: '#333333'\n\t\t},\n\t\tLineType: { //标题显示行数\t\t（注超出2行显示会导致画布布局絮乱）\n\t\t\tType: [String, Boolean],\n\t\t\tdefault: true\n\t\t},\n\t\tprice: { //价格值\n\t\t\tType: String,\n\t\t\tdefault: '0.00'\n\t\t},\n\t\tpriceColor: { //价格颜色\n\t\t\tType: String,\n\t\t\tdefault: '#ED0424'\n\t\t},\n\t\toriginalPrice: { //原价值\n\t\t\tType: String,\n\t\t\tdefault: '0.00'\n\t\t},\n\t\toriginalPriceColor: { //默认颜色（如原价与扫描二维码颜色）\n\t\t\tType: String,\n\t\t\tdefault: '#b8b8b8'\n\t\t},\n\t\tWidth: { //画布宽度  (高度根据图片比例计算 单位upx)\n\t\t\tType: String,\n\t\t\tdefault: 720\n\t\t},\n\t\tCanvasBg: { //canvas画布背景色\n\t\t\tType: String,\n\t\t\tdefault: '#ffffff'\n\t\t},\n\t\treferrer: { //推荐人信息\n\t\t\tType: String,\n\t\t\tdefault: '废喵推荐给你'\n\t\t},\n\t\tguide: { //描述提示文字\n\t\t\tType: String,\n\t\t\tdefault: '长按分享或扫码购买'\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\twebviewStyles: {\n\t\t\t\tprogress: {\n\t\t\t\t\tcolor: '#FF3333'\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/* 展示图 */\n\t\t\timg: [{\n\t\t\t\tsrc: 'https://ossweb-img.qq.com/images/lol/web201310/skin/big10006.jpg',\n\t\t\t\tx: 10,\n\t\t\t\ty: 10,\n\t\t\t\tw: 500,\n\t\t\t\th: 400,\n\t\t\t\tr: 15,\n\t\t\t\tshadow: true\n\t\t\t}],\n\t\t\t/* 文字 */\n\t\t\ttext: [{\n\t\t\t\tcontent: '黄紫溪黄紫溪',\n\t\t\t\tx: 10,\n\t\t\t\ty: 10,\n\t\t\t\tw: 500,\n\t\t\t\tlineHeight: 50,\n\t\t\t\tr: 15,\n\t\t\t\tsize: 36,\n\t\t\t\tcolor: 'red',\n\t\t\t\tweight: 'normal',\n\t\t\t\tfamily: 'sans-serif',\n\t\t\t\tmaxLineNum: 4,\n\t\t\t\tlineThrough: true,\n\t\t\t}],\n\t\t\tcanvasId: 'poster',\n\t\t\tcanvasW: 720,\n\t\t\tcanvasH: 720,\n\t\t\t/* 自定义宽度 */\n\t\t\tcanvasImgSrc: '',\n\t\t\tctx: null,\n\t\t\t/* 单位转换因子 */\n\t\t\tk: ''\n\t\t};\n\t},\n\tonLoad() {\n\t\tthis.k = uni.getSystemInfoSync().screenWidth / 750\n\t},\n\tasync onReady() {\n\t\tthis.OnCanvas()\n\t},\n\tmethods: {\n\t\t/* 单位转换 */\n\t\tpx2rpx() {\n\t\t\tif (arguments.length === 1)\n\t\t\t\treturn arguments[0] / this.k\n\t\t\tlet params = []\n\t\t\tfor (let i of arguments) {\n\t\t\t\tparams.push(i / this.k)\n\t\t\t}\n\t\t\treturn params\n\t\t},\n\t\trpx2px() {\n\t\t\tif (arguments.length === 1)\n\t\t\t\treturn arguments[0] * this.k\n\t\t\tlet params = []\n\t\t\tfor (let i of arguments) {\n\t\t\t\tparams.push(i * this.k)\n\t\t\t}\n\t\t\treturn params\n\t\t},\n\t\tasync OnCanvas() {\n\t\t\tconsole.log(new Date().getTime())\n\t\t\tthis.ctx = uni.createCanvasContext(this.canvasId, this);\n\t\t\tthis.imgSrc =\n\t\t\t\t'https://ossweb-img.qq.com/images/lol/web201310/skin/big10006.jpg'\n\t\t\tthis.avatarUrl =\n\t\t\t\t'https://wx.qlogo.cn/mmopen/vi_32/et2zrQzrqBZZ80ovWEfA0QqBiaWjlzna6sxA0rqibCIVlYzANNibynQSYLWReEeam2IJ7anVibibiaKOuia1Tg9TIoFYA/132'\n\t\t\tthis.QRcodeSrc =\n\t\t\t\t'https://wx.qlogo.cn/mmopen/vi_32/et2zrQzrqBZZ80ovWEfA0QqBiaWjlzna6sxA0rqibCIVlYzANNibynQSYLWReEeam2IJ7anVibibiaKOuia1Tg9TIoFYA/132'\n\t\t\t/* -绘制图片 */\n\n\t\t\tlet imgInfo = (await uni.getImageInfo({\n\t\t\t\tsrc: this.imgSrc\n\t\t\t}))[1] //需将图片网络路径转成临时路径才可绘制于Canvas上 严重耗时\n\t\t\tconsole.log(new Date().getTime())\n\t\t\tfor (let i of this.img) {\n\t\t\t\tthis.ctx.save()\n\t\t\t\tthis.radiusRect(...this.rpx2px(i.x, i.y, i.w, i.h, i.r)) //（圆角）矩形路径绘制\n\t\t\t\tif (i.shadow) { //情景: 存在阴影\n\t\t\t\t\tthis.ctx.setShadow(3, 5, 4, '#CDCDCD')\n\t\t\t\t\tthis.ctx.fill();\n\t\t\t\t}\n\t\t\t\tthis.ctx.clip()\n\t\t\t\tthis.ctx.drawImage(imgInfo.path, ...this.rpx2px(i.x, i.y, i.w, i.h))\n\t\t\t\tthis.ctx.restore()\n\t\t\t}\n\t\t\tconsole.log(new Date().getTime())\n\n\t\t\t/* -文字绘制 */\n\n\t\t\tfor (let i of this.text) {\n\t\t\t\tlet drawTxt = '', //当前绘制内容\n\t\t\t\t\tdrawLineNum = 0, //当前行数索引\n\t\t\t\t\tdrawIndex = 0 //当前绘制内容索引\n\t\t\t\ti.w = this.rpx2px(i.w)\n\n\t\t\t\tthis.ctx.font = `${i.weight} ${this.rpx2px(i.size)}px/${this.rpx2px(i.lineHeight)}px ${i.family}`\n\t\t\t\tthis.ctx.setFillStyle(i.color)\n\t\t\t\tthis.ctx.setTextBaseline('top')\n\t\t\t\tif (this.ctx.measureText(i.content).width <= i.w) { //只有一行内容\n\t\t\t\t\tthis.ctx.fillText(i.content, ...this.rpx2px(i.x, i.y))\n\t\t\t\t\tif (i.lineThrough) { //情景：存在贯穿线\n\t\t\t\t\t\tthis.ctx.beginPath();\n\t\t\t\t\t\tthis.ctx.moveTo(...this.rpx2px(i.x, i.y + i.size / 2 - 3))\n\t\t\t\t\t\tthis.ctx.lineTo(...this.rpx2px(i.x + this.px2rpx(this.ctx.measureText(i.content).width), i.y + i.size / 2 - 3))\n\t\t\t\t\t\tthis.ctx.setStrokeStyle(i.color)\n\t\t\t\t\t\tthis.ctx.setLineWidth(1.6)\n\t\t\t\t\t\tthis.ctx.stroke()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (let j = 0; j < i.content.length; j++) {\n\t\t\t\t\t\tdrawTxt += i.content[j]\n\t\t\t\t\t\tif (this.ctx.measureText(drawTxt).width >= i.w) {\n\t\t\t\t\t\t\tif (drawLineNum === i.maxLineNum) { //情景：多行时最后一行内容超过边界\n\t\t\t\t\t\t\t\tthis.ctx.fillText(i.content.substring(drawIndex, j - 1) + '...', ...this.rpx2px(i.x, i.y + i.lineHeight *\n\t\t\t\t\t\t\t\t\tdrawLineNum));\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t} else { //情景：多行时最后一行之前的内容\n\t\t\t\t\t\t\t\tthis.ctx.fillText(i.content.substring(drawIndex, j + 1), ...this.rpx2px(i.x, i.y + i.lineHeight * drawLineNum));\n\t\t\t\t\t\t\t\tdrawIndex = j + 1;\n\t\t\t\t\t\t\t\tdrawLineNum += 1;\n\t\t\t\t\t\t\t\tdrawTxt = ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (j === i.content.length - 1) { //情景：多行时最后一行内容未超过边界\n\t\t\t\t\t\t\t\tthis.ctx.fillText(drawTxt, ...this.rpx2px(i.x, i.y + i.lineHeight * drawLineNum));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconsole.log(new Date().getTime())\n\t\t\tthis.ctx.draw(true, res => {\n\t\t\t\tthis.getCanvasImage()\n\t\t\t})\n\n\t\t},\n\t\t/* 获取canvas图片路径 */\n\t\tgetCanvasImage() {\n\t\t\tuni.canvasToTempFilePath({\n\t\t\t\tcanvasId: this.canvasId,\n\t\t\t\tsuccess: res => {\n\t\t\t\t\t// this.$emit('', res.tempFilePath);\n\t\t\t\t},\n\t\t\t}, this);\n\t\t},\n\t\t/* 圆角矩形路径 */\n\t\tradiusRect(x, y, w, h, r) {\n\t\t\tif (r > w / 2 || r > h / 2) {\n\t\t\t\tr = Math.min(w, h) / 2\n\t\t\t}\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(x + r, y); // 将操作点移至左上角\n\t\t\tthis.ctx.arcTo(x + w, y, x + w, y + r, r); // 画右上角的弧        \n\t\t\tthis.ctx.arcTo(x + w, y + h, x + w - r, y + h, r); // 画右下角的弧\n\t\t\tthis.ctx.arcTo(x, y + h, x, y + h - r, r); // 画左下角的弧\n\t\t\tthis.ctx.arcTo(x, y, x + r, y, r); // 画左上角的弧\n\t\t\tthis.ctx.closePath();\n\t\t}\n\t}\n};\n"],"sourceRoot":""}