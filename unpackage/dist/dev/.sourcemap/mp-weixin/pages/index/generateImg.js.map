{"version":3,"sources":["webpack:///C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue?fb9a","webpack:///C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue?fd7a","webpack:///C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue?bbd1","webpack:///C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue?56fa","webpack:///C:/Temax/W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue"],"names":["props","img","Array","text","canvasH","Number","canvasW","type","default","data","ctx","k","onReady","uni","getSystemInfoSync","screenWidth","createCanvasContext","methods","px2rpx","arguments","length","Math","floor","params","i","push","rpx2px","generate","setFillStyle","fillRect","a","beginPath","save","degrees","translate","x","w","y","h","rotate","PI","mirror","scale","shadow","setShadow","fill","setTimeout","radiusRect","r","clip","drawImage","src","restore","drawTxt","drawLineNum","drawIndex","font","weight","size","lineHeight","color","setTextBaseline","measureText","content","width","fillText","lineThrough","moveTo","lineTo","setStrokeStyle","setLineWidth","stroke","j","maxLineNum","substring","draw","res","canvasToTempFilePath","canvasId","success","$emit","tempFilePath","min","arcTo"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAwH;AACxH;AAC+D;AACL;;;AAG1D;AACwK;AACxK,gBAAgB,+KAAU;AAC1B,EAAE,iFAAM;AACR,EAAE,sFAAM;AACR,EAAE,+FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,0FAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACzCf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAioB,CAAgB,+nBAAG,EAAC,C;;;;;;;;;;;;4pBCArpB;AACA;AACA;AACA;AACA;AACA;;AAEA,mB;AACe;AACdA,OAAK,EAAE;AACNC,OAAG,EAAEC,KADC;AAENC,QAAI,EAAED,KAFA;AAGNE,WAAO,EAAEC,MAHH;AAINC,WAAO,EAAE;AACRC,UAAI,EAAEF,MADE;AAERG,aAAO,EAAE,GAFD,EAJH,EADO;;;AAUdC,MAVc,kBAUP;AACN,WAAO;AACNC,SAAG,EAAE,IADC;AAENC,OAAC,EAAE,EAFG,CAEA;AAFA,KAAP;AAIA,GAfa;AAgBdC,SAhBc,qBAgBJ;AACT,SAAKD,CAAL,GAASE,GAAG,CAACC,iBAAJ,GAAwBC,WAAxB,GAAsC,GAA/C;AACA,SAAKL,GAAL,GAAWG,GAAG,CAACG,mBAAJ,CAAwB,UAAxB,EAAoC,IAApC,CAAX;AACA,GAnBa;AAoBdC,SAAO,EAAE;AACR;AACAC,UAFQ,oBAEC;AACR,UAAIC,SAAS,CAACC,MAAV,KAAqB,CAAzB;AACC,aAAOC,IAAI,CAACC,KAAL,CAAWH,SAAS,CAAC,CAAD,CAAT,GAAe,KAAKR,CAA/B,CAAP;AACD,UAAIY,MAAM,GAAG,EAAb,CAHQ;AAIR,6BAAcJ,SAAd,8HAAyB,KAAhBK,CAAgB;AACxBD,gBAAM,CAACE,IAAP,CAAYJ,IAAI,CAACC,KAAL,CAAWE,CAAC,GAAG,KAAKb,CAApB,CAAZ;AACA,SANO;AAOR,aAAOY,MAAP;AACA,KAVO;AAWRG,UAXQ,oBAWC;AACR,UAAIP,SAAS,CAACC,MAAV,KAAqB,CAAzB;AACC,aAAOC,IAAI,CAACC,KAAL,CAAWH,SAAS,CAAC,CAAD,CAAT,GAAe,KAAKR,CAA/B,CAAP;AACD,UAAIY,MAAM,GAAG,EAAb,CAHQ;AAIR,8BAAcJ,SAAd,mIAAyB,KAAhBK,CAAgB;AACxBD,gBAAM,CAACE,IAAP,CAAYJ,IAAI,CAACC,KAAL,CAAWE,CAAC,GAAG,KAAKb,CAApB,CAAZ;AACA,SANO;AAOR,aAAOY,MAAP;AACA,KAnBO;AAoBRI,YApBQ,sBAoBG;AACV,WAAKjB,GAAL,CAASkB,YAAT,CAAsB,SAAtB;AACA,wBAAKlB,GAAL,EAASmB,QAAT,mBAAkB,CAAlB,EAAqB,CAArB,4BAA2B,KAAKH,MAAL,CAAY,KAAKpB,OAAjB,EAA0B,KAAKF,OAA/B,CAA3B;AACA,UAAI0B,CAAC,GAAG,GAAR,CAHU;AAIDN,WAJC;AAKTM,WAAC,IAAIA,CAAL;AACA,eAAI,CAACpB,GAAL,CAASqB,SAAT;AACA,eAAI,CAACrB,GAAL,CAASsB,IAAT;AACA,cAAIR,CAAC,CAACS,OAAN,EAAe;AACd,+BAAI,CAACvB,GAAL,EAASwB,SAAT,sCAAsB,KAAI,CAACR,MAAL,CAAYF,CAAC,CAACW,CAAF,GAAMX,CAAC,CAACY,CAAF,GAAM,CAAxB,EAA2BZ,CAAC,CAACa,CAAF,GAAMb,CAAC,CAACc,CAAF,GAAM,CAAvC,CAAtB;AACA,iBAAI,CAAC5B,GAAL,CAAS6B,MAAT,CAAgBf,CAAC,CAACS,OAAF,GAAYZ,IAAI,CAACmB,EAAjB,GAAsB,GAAtC;AACA,+BAAI,CAAC9B,GAAL,EAASwB,SAAT,sCAAsB,KAAI,CAACR,MAAL,CAAY,CAACF,CAAC,CAACW,CAAH,GAAOX,CAAC,CAACY,CAAF,GAAM,CAAzB,EAA4B,CAACZ,CAAC,CAACa,CAAH,GAAOb,CAAC,CAACc,CAAF,GAAM,CAAzC,CAAtB;AACA;AACD,cAAId,CAAC,CAACiB,MAAN,EAAc;AACb,+BAAI,CAAC/B,GAAL,EAASwB,SAAT,sCAAsB,KAAI,CAACR,MAAL,CAAYF,CAAC,CAACW,CAAF,GAAMX,CAAC,CAACY,CAAF,GAAM,CAAxB,EAA2BZ,CAAC,CAACa,CAAF,GAAMb,CAAC,CAACc,CAAF,GAAM,CAAvC,CAAtB;AACA,iBAAI,CAAC5B,GAAL,CAASgC,KAAT,CAAe,CAAC,CAAhB,EAAmB,CAAnB;AACA,+BAAI,CAAChC,GAAL,EAASwB,SAAT,sCAAsB,KAAI,CAACR,MAAL,CAAY,CAACF,CAAC,CAACW,CAAH,GAAOX,CAAC,CAACY,CAAF,GAAM,CAAzB,EAA4B,CAACZ,CAAC,CAACa,CAAH,GAAOb,CAAC,CAACc,CAAF,GAAM,CAAzC,CAAtB;AACA;;AAED,cAAId,CAAC,CAACmB,MAAN,EAAc;AACb,iBAAI,CAACjC,GAAL,CAASkC,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,SAA5B;AACA,iBAAI,CAAClC,GAAL,CAASmC,IAAT;AACA;AACDC,oBAAU,CAAC,YAAM;AAChB,iBAAI,CAACC,UAAL,YAAI,qBAAe,KAAI,CAACrB,MAAL,CAAYF,CAAC,CAACW,CAAd,EAAiBX,CAAC,CAACa,CAAnB,EAAsBb,CAAC,CAACY,CAAxB,EAA2BZ,CAAC,CAACc,CAA7B,EAAgCd,CAAC,CAACwB,CAAlC,CAAf,EAAJ,CADgB,CACyC;AACzD,iBAAI,CAACtC,GAAL,CAASuC,IAAT;AACA,+BAAI,CAACvC,GAAL,EAASwC,SAAT,oBAAmB1B,CAAC,CAAC2B,GAArB,4BAA6B,KAAI,CAACzB,MAAL,CAAYF,CAAC,CAACW,CAAd,EAAiBX,CAAC,CAACa,CAAnB,EAAsBb,CAAC,CAACY,CAAxB,EAA2BZ,CAAC,CAACc,CAA7B,CAA7B;AACA,iBAAI,CAAC5B,GAAL,CAAS0C,OAAT;AACA,WALS,EAKPtB,CALO,CAAV,CAvBS,EAIV,sBAAc,KAAK7B,GAAnB,mIAAwB;;AA0BvB;;AAED,mBAhCU;;AAkCV,8BAAc,KAAKE,IAAnB,mIAAyB,KAAhBqB,CAAgB;AACxB,cAAI6B,OAAO,GAAG,EAAd,EAAkB;AACjBC,qBAAW,GAAG,CADf,EACkB;AACjBC,mBAAS,GAAG,CAFb,CADwB,CAGT;AACf/B,WAAC,CAACY,CAAF,GAAM,KAAKV,MAAL,CAAYF,CAAC,CAACY,CAAd,CAAN;;AAEA,eAAK1B,GAAL,CAAS8C,IAAT,aAAmBhC,CAAC,CAACiC,MAArB,cAA+B,KAAK/B,MAAL,CAAYF,CAAC,CAACkC,IAAd,CAA/B,gBAAwD,KAAKhC,MAAL,CAAYF,CAAC,CAACmC,UAAd,CAAxD;AACA,eAAKjD,GAAL,CAASkB,YAAT,CAAsBJ,CAAC,CAACoC,KAAxB;AACA,eAAKlD,GAAL,CAASmD,eAAT,CAAyB,KAAzB;AACA,cAAI,KAAKnD,GAAL,CAASoD,WAAT,CAAqBtC,CAAC,CAACuC,OAAvB,EAAgCC,KAAhC,IAAyCxC,CAAC,CAACY,CAA/C,EAAkD,iBAAE;AACnD,+BAAK1B,GAAL,EAASuD,QAAT,oBAAkBzC,CAAC,CAACuC,OAApB,4BAAgC,KAAKrC,MAAL,CAAYF,CAAC,CAACW,CAAd,EAAiBX,CAAC,CAACa,CAAnB,CAAhC;AACA,gBAAIb,CAAC,CAAC0C,WAAN,EAAmB,6BAAE;AACpB,mBAAKxD,GAAL,CAASqB,SAAT;AACA,iCAAKrB,GAAL,EAASyD,MAAT,sCAAmB,KAAKzC,MAAL,CAAYF,CAAC,CAACW,CAAd,EAAiBX,CAAC,CAACa,CAAF,GAAMb,CAAC,CAACkC,IAAF,GAAS,CAAf,GAAmB,CAApC,CAAnB;AACA,iCAAKhD,GAAL,EAAS0D,MAAT,sCAAmB,KAAK1C,MAAL,CAAYF,CAAC,CAACW,CAAF,GAAM,KAAKjB,MAAL,CAAY,KAAKR,GAAL,CAASoD,WAAT,CAAqBtC,CAAC,CAACuC,OAAvB,EAAgCC,KAA5C,CAAlB,EAAsExC,CAAC,CAACa,CAAF,GAAMb,CAAC,CAACkC,IAAF,GAAS,CAAf,GAAmB,CAAzF,CAAnB;AACA,mBAAKhD,GAAL,CAAS2D,cAAT,CAAwB7C,CAAC,CAACoC,KAA1B;AACA,mBAAKlD,GAAL,CAAS4D,YAAT,CAAsB,GAAtB;AACA,mBAAK5D,GAAL,CAAS6D,MAAT;AACA;AACD,WAVD,MAUO;AACN,iBAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGhD,CAAC,CAACuC,OAAF,CAAU3C,MAA9B,EAAsCoD,CAAC,EAAvC,EAA2C;AAC1CnB,qBAAO,IAAI7B,CAAC,CAACuC,OAAF,CAAUS,CAAV,CAAX;AACA,kBAAI,KAAK9D,GAAL,CAASoD,WAAT,CAAqBT,OAArB,EAA8BW,KAA9B,IAAuCxC,CAAC,CAACY,CAA7C,EAAgD;AAC/C,oBAAIkB,WAAW,KAAK9B,CAAC,CAACiD,UAAtB,EAAkC,kBAAE;AACnC,sCAAK/D,GAAL,EAASuD,QAAT,qBAAkBzC,CAAC,CAACuC,OAAF,CAAUW,SAAV,CAAoBnB,SAApB,EAA+BiB,CAAC,GAAG,CAAnC,IAAwC,KAA1D,4BAAoE,KAAK9C,MAAL,CAAYF,CAAC,CAACW,CAAd,EAAiBX,CAAC,CAACa,CAAF,GAAMb,CAAC,CAACmC,UAAF;AAC1FL,6BADmE,CAApE;AAEA;AACA,iBAJD,MAIO,kBAAE;AACR,sCAAK5C,GAAL,EAASuD,QAAT,qBAAkBzC,CAAC,CAACuC,OAAF,CAAUW,SAAV,CAAoBnB,SAApB,EAA+BiB,CAAC,GAAG,CAAnC,CAAlB,4BAA4D,KAAK9C,MAAL,CAAYF,CAAC,CAACW,CAAd,EAAiBX,CAAC,CAACa,CAAF,GAAMb,CAAC,CAACmC,UAAF,GAAeL,WAAtC,CAA5D;AACAC,2BAAS,GAAGiB,CAAC,GAAG,CAAhB;AACAlB,6BAAW,IAAI,CAAf;AACAD,yBAAO,GAAG,EAAV;AACA;AACD,eAXD,MAWO;AACN,oBAAImB,CAAC,KAAKhD,CAAC,CAACuC,OAAF,CAAU3C,MAAV,GAAmB,CAA7B,EAAgC,kBAAE;AACjC,sCAAKV,GAAL,EAASuD,QAAT,qBAAkBZ,OAAlB,4BAA8B,KAAK3B,MAAL,CAAYF,CAAC,CAACW,CAAd,EAAiBX,CAAC,CAACa,CAAF,GAAMb,CAAC,CAACmC,UAAF,GAAeL,WAAtC,CAA9B;AACA;AACD;AACD;AACD;AACD,SA1ES;AA2EVR,gBAAU,CAAC,YAAM;AAChB,aAAI,CAACpC,GAAL,CAASiE,IAAT,CAAc,KAAd,EAAqB,UAAAC,GAAG,EAAI;AAC3B/D,aAAG,CAACgE,oBAAJ,CAAyB;AACxBC,oBAAQ,EAAE,UADc;AAExBC,mBAAO,EAAE,iBAAAH,GAAG,EAAI;AACf,mBAAI,CAACI,KAAL,CAAW,eAAX,EAA4BJ,GAAG,CAACK,YAAhC;AACA,aAJuB,EAAzB;AAKG,eALH;AAMA,SAPD;AAQA,OATS,EASPnD,CATO,CAAV;;;;AAaA,KA5GO;AA6GR;AACA;AACAiB,cA/GQ,sBA+GGZ,CA/GH,EA+GME,CA/GN,EA+GSD,CA/GT,EA+GYE,CA/GZ,EA+GeU,CA/Gf,EA+GkB;AACzB,UAAIA,CAAC,GAAGZ,CAAC,GAAG,CAAR,IAAaY,CAAC,GAAGV,CAAC,GAAG,CAAzB,EAA4B;AAC3BU,SAAC,GAAG3B,IAAI,CAAC6D,GAAL,CAAS9C,CAAT,EAAYE,CAAZ,IAAiB,CAArB;AACA;AACD,WAAK5B,GAAL,CAASqB,SAAT;AACA,WAAKrB,GAAL,CAASyD,MAAT,CAAgBhC,CAAhB,EAAmBE,CAAnB,EALyB,CAKF;AACvB,WAAK3B,GAAL,CAASyE,KAAT,CAAehD,CAAC,GAAGC,CAAnB,EAAsBC,CAAtB,EAAyBF,CAAC,GAAGC,CAA7B,EAAgCC,CAAC,GAAGW,CAApC,EAAuCA,CAAvC,EANyB,CAMkB;AAC3C,WAAKtC,GAAL,CAAS0D,MAAT,CAAgBjC,CAAC,GAAGC,CAApB,EAAuBC,CAAvB;AACA,WAAK3B,GAAL,CAASyE,KAAT,CAAehD,CAAC,GAAGC,CAAnB,EAAsBC,CAAC,GAAGC,CAA1B,EAA6BH,CAAC,GAAGC,CAAJ,GAAQY,CAArC,EAAwCX,CAAC,GAAGC,CAA5C,EAA+CU,CAA/C,EARyB,CAQ0B;AACnD,WAAKtC,GAAL,CAAS0D,MAAT,CAAgBjC,CAAC,GAAGC,CAApB,EAAuBC,CAAC,GAAGC,CAA3B;AACA,WAAK5B,GAAL,CAASyE,KAAT,CAAehD,CAAf,EAAkBE,CAAC,GAAGC,CAAtB,EAAyBH,CAAzB,EAA4BE,CAAC,GAAGC,CAAJ,GAAQU,CAApC,EAAuCA,CAAvC,EAVyB,CAUkB;AAC3C,WAAKtC,GAAL,CAAS0D,MAAT,CAAgBjC,CAAhB,EAAmBE,CAAC,GAAGC,CAAvB;AACA,WAAK5B,GAAL,CAASyE,KAAT,CAAehD,CAAf,EAAkBE,CAAlB,EAAqBF,CAAC,GAAGa,CAAzB,EAA4BX,CAA5B,EAA+BW,CAA/B,EAZyB,CAYU;AACnC,WAAKtC,GAAL,CAAS0D,MAAT,CAAgBjC,CAAhB,EAAmBE,CAAnB;AACA;AACA,KA9HO,EApBK,E","file":"pages/index/generateImg.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./generateImg.vue?vue&type=template&id=323775f0&\"\nvar renderjs\nimport script from \"./generateImg.vue?vue&type=script&lang=js&\"\nexport * from \"./generateImg.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\Temax\\\\G\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('323775f0')) {\n      api.createRecord('323775f0', component.options)\n    } else {\n      api.reload('323775f0', component.options)\n    }\n    module.hot.accept(\"./generateImg.vue?vue&type=template&id=323775f0&\", function () {\n      api.rerender('323775f0', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"W/TensionMax/mini-ps-uni-app/pages/index/generateImg.vue\"\nexport default component.exports","export * from \"-!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./generateImg.vue?vue&type=template&id=323775f0&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./generateImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../G/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./generateImg.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n\n/* 以下数字的单位以rpx为准 */\nexport default {\n\tprops: {\n\t\timg: Array,\n\t\ttext: Array,\n\t\tcanvasH: Number,\n\t\tcanvasW: {\n\t\t\ttype: Number,\n\t\t\tdefault: 720\n\t\t}\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tctx: null,\n\t\t\tk: '' //单位转换因子 unit conversion factor\n\t\t};\n\t},\n\tonReady() {\n\t\tthis.k = uni.getSystemInfoSync().screenWidth / 750\n\t\tthis.ctx = uni.createCanvasContext('generate', this);\n\t},\n\tmethods: {\n\t\t/* 单位转换 */\n\t\tpx2rpx() {\n\t\t\tif (arguments.length === 1)\n\t\t\t\treturn Math.floor(arguments[0] / this.k)\n\t\t\tlet params = []\n\t\t\tfor (let i of arguments) {\n\t\t\t\tparams.push(Math.floor(i / this.k))\n\t\t\t}\n\t\t\treturn params\n\t\t},\n\t\trpx2px() {\n\t\t\tif (arguments.length === 1)\n\t\t\t\treturn Math.floor(arguments[0] * this.k)\n\t\t\tlet params = []\n\t\t\tfor (let i of arguments) {\n\t\t\t\tparams.push(Math.floor(i * this.k))\n\t\t\t}\n\t\t\treturn params\n\t\t},\n\t\tgenerate() {\n\t\t\tthis.ctx.setFillStyle('#FFFFFF')\n\t\t\tthis.ctx.fillRect(0, 0, ...this.rpx2px(this.canvasW, this.canvasH))\n\t\t\tlet a = 100\n\t\t\tfor (let i of this.img) {\n\t\t\t\ta += a\n\t\t\t\tthis.ctx.beginPath()\n\t\t\t\tthis.ctx.save()\n\t\t\t\tif (i.degrees) {\n\t\t\t\t\tthis.ctx.translate(...this.rpx2px(i.x + i.w / 2, i.y + i.h / 2))\n\t\t\t\t\tthis.ctx.rotate(i.degrees * Math.PI / 180)\n\t\t\t\t\tthis.ctx.translate(...this.rpx2px(-i.x - i.w / 2, -i.y - i.h / 2))\n\t\t\t\t}\n\t\t\t\tif (i.mirror) {\n\t\t\t\t\tthis.ctx.translate(...this.rpx2px(i.x + i.w / 2, i.y + i.h / 2))\n\t\t\t\t\tthis.ctx.scale(-1, 1)\n\t\t\t\t\tthis.ctx.translate(...this.rpx2px(-i.x - i.w / 2, -i.y - i.h / 2))\n\t\t\t\t}\n\n\t\t\t\tif (i.shadow) {\n\t\t\t\t\tthis.ctx.setShadow(3, 5, 4, '#CDCDCD')\n\t\t\t\t\tthis.ctx.fill();\n\t\t\t\t}\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.radiusRect(...this.rpx2px(i.x, i.y, i.w, i.h, i.r)) //（圆角）矩形路径绘制\n\t\t\t\t\tthis.ctx.clip()\n\t\t\t\t\tthis.ctx.drawImage(i.src, ...this.rpx2px(i.x, i.y, i.w, i.h))\n\t\t\t\t\tthis.ctx.restore()\n\t\t\t\t}, a)\n\n\t\t\t}\n\n\t\t\t/* -文字绘制 */\n\n\t\t\tfor (let i of this.text) {\n\t\t\t\tlet drawTxt = '', //当前绘制内容\n\t\t\t\t\tdrawLineNum = 0, //当前行数索引\n\t\t\t\t\tdrawIndex = 0 //当前绘制内容索引\n\t\t\t\ti.w = this.rpx2px(i.w)\n\n\t\t\t\tthis.ctx.font = `${i.weight} ${this.rpx2px(i.size)}px/${this.rpx2px(i.lineHeight)}px sans-serif`\n\t\t\t\tthis.ctx.setFillStyle(i.color)\n\t\t\t\tthis.ctx.setTextBaseline('top')\n\t\t\t\tif (this.ctx.measureText(i.content).width <= i.w) { //只有一行内容\n\t\t\t\t\tthis.ctx.fillText(i.content, ...this.rpx2px(i.x, i.y))\n\t\t\t\t\tif (i.lineThrough) { //情景：存在贯穿线\n\t\t\t\t\t\tthis.ctx.beginPath();\n\t\t\t\t\t\tthis.ctx.moveTo(...this.rpx2px(i.x, i.y + i.size / 2 - 3))\n\t\t\t\t\t\tthis.ctx.lineTo(...this.rpx2px(i.x + this.px2rpx(this.ctx.measureText(i.content).width), i.y + i.size / 2 - 3))\n\t\t\t\t\t\tthis.ctx.setStrokeStyle(i.color)\n\t\t\t\t\t\tthis.ctx.setLineWidth(1.6)\n\t\t\t\t\t\tthis.ctx.stroke()\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tfor (let j = 0; j < i.content.length; j++) {\n\t\t\t\t\t\tdrawTxt += i.content[j]\n\t\t\t\t\t\tif (this.ctx.measureText(drawTxt).width >= i.w) {\n\t\t\t\t\t\t\tif (drawLineNum === i.maxLineNum) { //情景：多行时最后一行内容超过边界\n\t\t\t\t\t\t\t\tthis.ctx.fillText(i.content.substring(drawIndex, j - 1) + '...', ...this.rpx2px(i.x, i.y + i.lineHeight *\n\t\t\t\t\t\t\t\t\tdrawLineNum));\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t} else { //情景：多行时最后一行之前的内容\n\t\t\t\t\t\t\t\tthis.ctx.fillText(i.content.substring(drawIndex, j + 1), ...this.rpx2px(i.x, i.y + i.lineHeight * drawLineNum));\n\t\t\t\t\t\t\t\tdrawIndex = j + 1;\n\t\t\t\t\t\t\t\tdrawLineNum += 1;\n\t\t\t\t\t\t\t\tdrawTxt = ''\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (j === i.content.length - 1) { //情景：多行时最后一行内容未超过边界\n\t\t\t\t\t\t\t\tthis.ctx.fillText(drawTxt, ...this.rpx2px(i.x, i.y + i.lineHeight * drawLineNum));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.ctx.draw(false, res => {\n\t\t\t\t\tuni.canvasToTempFilePath({\n\t\t\t\t\t\tcanvasId: 'generate',\n\t\t\t\t\t\tsuccess: res => {\n\t\t\t\t\t\t\tthis.$emit('exportSuccess', res.tempFilePath);\n\t\t\t\t\t\t},\n\t\t\t\t\t}, this);\n\t\t\t\t})\n\t\t\t}, a)\n\n\n\n\t\t},\n\t\t/* 获取canvas图片路径 */\n\t\t/* 圆角矩形路径 */\n\t\tradiusRect(x, y, w, h, r) {\n\t\t\tif (r > w / 2 || r > h / 2) {\n\t\t\t\tr = Math.min(w, h) / 2\n\t\t\t}\n\t\t\tthis.ctx.beginPath();\n\t\t\tthis.ctx.moveTo(x, y); // 将操作点移至左上角\n\t\t\tthis.ctx.arcTo(x + w, y, x + w, y + r, r); // 画右上角的弧\n\t\t\tthis.ctx.lineTo(x + w, y)\n\t\t\tthis.ctx.arcTo(x + w, y + h, x + w - r, y + h, r); // 画右下角的弧\n\t\t\tthis.ctx.lineTo(x + w, y + h)\n\t\t\tthis.ctx.arcTo(x, y + h, x, y + h - r, r); // 画左下角的弧\n\t\t\tthis.ctx.lineTo(x, y + h)\n\t\t\tthis.ctx.arcTo(x, y, x + r, y, r); // 画左上角的弧\n\t\t\tthis.ctx.lineTo(x, y)\n\t\t\t// this.ctx.closePath();\n\t\t}\n\t}\n};\n"],"sourceRoot":""}